<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>角色列表</title>
        <!--引入css-->
        <link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css"/>
        <link rel="stylesheet" href="/css/dataTables/dataTables.bootstrap.css"/>
        <link rel="stylesheet" href="/css/datepicker/bootstrap-datetimepicker.css"/>
        <link rel="stylesheet" href="/css/sweetalert/sweetalert2.min.css"/>
        <style type="text/css">
            .main {
                width: 100%;
                box-sizing: border-box;
                min-width: 1200px;
                padding: 20px;
            }
        </style>
        <!-- 引入js -->
        <script type="text/javascript" src="/js/moment/moment.min.js"></script>
        <script type="text/javascript" src="/js/jquery/jquery.js"></script>
        <script type="text/javascript" src="/js/bootstrap/bootstrap.min.js"></script>
        <script type="text/javascript" src="/js/datepicker/bootstrap-datetimepicker.js"></script>
        <script type="text/javascript" src="/js/datepicker/bootstrap-datetimepicker.zh-CN.js"></script>
        <script type="text/javascript" src="/js/dataTables/jquery.dataTables.js"></script>
        <script type="text/javascript" src="/js/dataTables/dataTables.bootstrap.js"></script>
        <script type="text/javascript" src="/js/sweetalert/sweetalert2.min.js"></script>
        <script type="text/javascript">

        </script>
    </head>
    <body>
        <div class="main">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">用户搜索</h3>
                </div>
                <div class="panel-body">
                    <form class="form-inline" action="#" method="post">
                        <button type="submit" class="btn btn-primary"> 查 询</button>
                    </form>
                </div>
            </div>
            <p class="panel panel-default">
                <table id="emptable" class="table stripe table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>id</th>
                            <th>usercode</th>
                            <th>username</th>
                            <th>password</th>
                            <th>salt</th>
                            <th>status</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="user:${userList}">
                            <td>
                                <p th:text="${user.id}"></p>
                            </td>
                            <td>
                                <p th:text="${user.usercode}"></p>
                            </td>
                            <td>
                                <p th:text="${user.username}"></p>
                            </td>
                            <td>
                                <p th:text="${user.password}"></p>
                            </td>
                            <td>
                                <p th:text="${user.salt}"></p>
                            </td>
                            <td>
                                <p th:if="${user.status eq 0}" >平台用户</p>
                                <p th:if="${user.status eq 1}" >景区用户</p>
                            </td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-success" th:onclick="|empView(${Employees.employeeid})|">查看</button>
                                    <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="caret"></span>
                                        <span class="sr-only">Toggle Dropdown</span>
                                    </button>
                                    <ul class="dropdown-menu" style="min-width: 120px; left: -10px; padding: 5px;">
                                        <li><label th:if="${(Employees.byisuse != 2) and (Employees.byisuse != 3)}"><input value="修改" type="button" class="btn btn-success" th:onclick="|empEdit(${Employees.employeeid})|"/></label></li>
                                        <li><label th:if="${(Employees.byisuse != 2) and (Employees.byisuse != 0) and (Employees.byisuse != 3)}"><input value="禁用" type="button" class="btn btn-success" th:onclick="|empDel(${Employees.employeeid})|"/></label></li>
                                        <li><label th:if="${(Employees.byisuse != 2) and (Employees.byisuse != 3)}"><input value="密码初始化" type="button" class="btn btn-success" th:onclick="|empPassWordEdit(${Employees.employeeid})|"/></label></li>
                                        <li><label th:if="${(Employees.byisuse != 2) and (Employees.byisuse != 3)}"><input value="加入黑名单" type="button" class="btn btn-success" th:onclick="|blacklist(${Employees.employeeid},1)|"/></label></li>
                                        <li><label th:if="${Employees.byisuse eq 2}">  |  <input value="取消黑名单" type="button" class="btn btn-success" th:onclick="|blacklist(${Employees.employeeid},2)|"/></label></li>
                                        <li><label th:if="${Employees.byisuse == 3 and Employees.sources=='0'}"><input value="审核" type="button" class="btn btn-success" th:onclick="|empAudit(${Employees.employeeid})|"/></label></li>
                                        <li><label th:if="${(Employees.byisuse != 2) and (Employees.byisuse != 3) and (Employees.sources=='0')}"><input value="通用系统" type="button" class="btn btn-success" th:onclick="|editEmpRsource(${Employees.employeeid})|"/></label></li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li>
                        <span>总条数：<span th:text="${page.totals}"></span>&nbsp;&nbsp;</span>
                        <span>总页数：<span th:text="${page.pages}"></span>&nbsp;&nbsp;</span>
                        <span>当前页码：<span th:text="${page.currentPage}"></span></span>
                    </li>
                    <li>
                        <a th:href="@{/emp/empList/(currentPage=1,pageSize=${page.pageSize} )}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;首页</span>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/emp/empList/(currentPage=${page.currentPage-1},pageSize=${page.pageSize} )}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;上一页</span>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/emp/empList/(currentPage=${page.currentPage+1},pageSize=${page.pageSize} )}" aria-label="Next">
                            <span aria-hidden="true">下一页&raquo;</span>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/emp/empList/(currentPage=${page.pages},pageSize=${page.pageSize} )}" aria-label="Next">
                            <span aria-hidden="true">尾页&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>